<script>
    function status(response) {
    if (response.status >= 200 && response.status < 300) {
      return Promise.resolve(response)
    } else {
      return Promise.reject(new Error(response.statusText))
    }
  }
  
  function json(response) {
    return response.json();
  }
  
  fetch('podcast3.json')
    .then(status)
    .then(json)
    .then(function(data) {
      console.log('Request succeeded with JSON response');
      displayShows(data);
    }).catch(function(error) {
      console.log('Request failed', error);
    });
  
  const displayShows = (data) => {
    let today = new Date()
      let i = 0;
     for(var show of data){
         
         let releaseDate = new Date(show.ReleaseTime);
         if(releaseDate < today ) {
            i++;
            if(i <=300) {
                console.log(i, "READY", show.Title, show.ReleaseTime);
                document.writeln("<item>" + show.Title + "</item>")
            }
             
         } 
        
     }
  }

  

</script>